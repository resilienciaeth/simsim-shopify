{{ 'newsletter-signup.css' | asset_url | stylesheet_tag }}

<style>
  .newsletter-signup-section {
    width: 100%;
    padding: 180px 30px 90px 30px;
    margin: 0;
  }

  .newsletter-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }

  .newsletter-title {
    font-size: 32px;
    line-height: 1.3;
    margin: 0 0 40px 0;
    color: rgb(var(--color-foreground));
    font-weight: 700;
    letter-spacing: normal;
    text-transform: uppercase;
    font-family: 'NewEdge666-Rounded', Arial, sans-serif;
  }

  .newsletter-form {
    position: relative;
    max-width: 600px;
    margin: 0 auto;
  }

  .newsletter-input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    background: white;
    border-radius: 50px;
    overflow: hidden;
  }

  .newsletter-email-input {
    width: 100%;
    padding: 18px 120px 18px 28px;
    font-size: 16px;
    border: none;
    background: white;
    color: black;
    font-family: inherit;
    outline: none;
  }

  .newsletter-email-input:focus {
    outline: none;
  }

  .newsletter-email-input::placeholder {
    color: rgba(0, 0, 0, 0.5);
  }

  .newsletter-submit-button {
    position: absolute;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    padding: 0;
    background: transparent;
    color: black;
    border: none;
    font-size: 16px;
    font-weight: 400;
    text-transform: uppercase;
    letter-spacing: 0;
    cursor: pointer;
    transition: opacity 0.3s ease;
    font-family: inherit;
  }

  .newsletter-submit-button:hover {
    opacity: 0.6;
  }

  .newsletter-message {
    margin-top: 15px;
    font-size: 14px;
    text-align: center;
  }

  .newsletter-message.success {
    color: green;
  }

  .newsletter-message.error {
    color: red;
  }

  @media screen and (max-width: 749px) {
    .newsletter-signup-section {
      padding: 90px 20px 90px 20px;
    }

    .newsletter-title {
      font-size: 24px;
      margin: 0 0 30px 0;
    }

    .newsletter-email-input {
      padding: 16px 100px 16px 24px;
      font-size: 14px;
    }

    .newsletter-submit-button {
      right: 16px;
      font-size: 14px;
    }
  }
</style>

<div class="newsletter-signup-section section" id="section-{{ section.id }}">
  <div class="newsletter-content">
    {%- if section.settings.title != blank -%}
      <h2 class="newsletter-title">{{ section.settings.title }}</h2>
    {%- else -%}
      <h2 class="newsletter-title">From the world of SIMSIM: style, stories, and statements.</h2>
    {%- endif -%}

    {% form 'customer', class: 'newsletter-form' %}
      {%- if form.posted_successfully? -%}
        <div class="newsletter-message success">Thanks for subscribing!</div>
      {%- else -%}
        <div class="newsletter-input-wrapper">
          <input
            type="email"
            name="contact[email]"
            class="newsletter-email-input"
            placeholder="Enter your email"
            required
            aria-label="Email address"
          >
          <button type="submit" class="newsletter-submit-button">Join</button>
        </div>

        {%- if form.errors -%}
          <div class="newsletter-message error">
            {{ form.errors | default_errors }}
          </div>
        {%- endif -%}
      {%- endif -%}

      <input type="hidden" name="contact[tags]" value="newsletter">
    {% endform %}
  </div>
</div>

{% schema %}
{
  "name": "Newsletter Signup",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "textarea",
      "id": "title",
      "label": "Title",
      "default": "From the world of SIMSIM: style, stories, and statements."
    }
  ],
  "presets": [
    {
      "name": "Newsletter Signup",
      "category": "Email"
    }
  ]
}
{% endschema %}
